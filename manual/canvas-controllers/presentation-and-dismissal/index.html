<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../favicon.ico">
        
        <title>Presentation & Dismissal - Canvas Flow</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/extra.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-57773606-3', 'canvasflow.xyz');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../..">Canvas Flow</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../../..">Home</a>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Manual <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../contents/">Contents</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">Canvas Controllers</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../introduction/">Introduction</a>
</li>
            
<li >
    <a href="../creating-a-canvas-controller/">Creating A Canvas Controller</a>
</li>
            
<li >
    <a href="../canvas-controller-scenes/">Canvas Controller Scenes</a>
</li>
            
<li class="active">
    <a href="./">Presentation & Dismissal</a>
</li>
            
<li >
    <a href="../canvas-controller-life-cycle/">Canvas Controller Life Cycle</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Storyboards</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../storyboards/introduction/">Introduction</a>
</li>
            
<li >
    <a href="../../storyboards/creating-a-storyboard/">Creating A Storyboard</a>
</li>
            
<li >
    <a href="../../storyboards/storyboard-nodes/">Storyboard Nodes</a>
</li>
            
<li >
    <a href="../../storyboards/storyboard-transitions/">Storyboard Transitions</a>
</li>
            
<li >
    <a href="../../storyboards/presenting-a-storyboard/">Presenting A Storyboard</a>
</li>
            
<li >
    <a href="../../storyboards/custom-storyboard-hooks/">Custom Storyboard Hooks</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Transition Animators</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../transition-animators/introduction/">Introduction</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Default Transition Animators</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../transition-animators/default-transition-animators/transition-animator-default/">Default Transition Animator</a>
</li>
            
<li >
    <a href="../../transition-animators/default-transition-animators/transition-animator-fade-to-color/">Fade To Color Transition Animator</a>
</li>
            
<li >
    <a href="../../transition-animators/default-transition-animators/transition-animator-slide/">Slide Transition Animator</a>
</li>
            
<li >
    <a href="../../transition-animators/default-transition-animators/transition-animator-scale/">Scale Transition Animator</a>
</li>
            
<li >
    <a href="../../transition-animators/default-transition-animators/transition-animator-scale-and-fade/">Scale And Fade Background Transition Animator</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../transition-animators/using-a-transition-animator/">Using A Transition Animator</a>
</li>
            
<li >
    <a href="../../transition-animators/custom-transition-animators/">Custom Transition Animators</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Scripting Reference <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../scripting-reference/contents/">Contents</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">Canvas Controllers</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../scripting-reference/canvas-controller/CanvasController/">CanvasController</a>
</li>
            
<li >
    <a href="../../../scripting-reference/canvas-controller/CanvasControllerExtensions/">CanvasController Extensions</a>
</li>
            
<li >
    <a href="../../../scripting-reference/canvas-controller/CanvasControllerPresentationMode/">CanvasControllerPresentationMode</a>
</li>
            
<li >
    <a href="../../../scripting-reference/canvas-controller/CanvasControllerTransitionContext/">CanvasControllerTransitionContext</a>
</li>
            
<li >
    <a href="../../../scripting-reference/canvas-controller/CanvasControllerTransitioningAnimator/">CanvasControllerTransitioningAnimator</a>
</li>
            
<li >
    <a href="../../../scripting-reference/canvas-controller/ICanvasControllerTransitioningAnimator/">ICanvasControllerTransitioningAnimator</a>
</li>
            
<li >
    <a href="../../../scripting-reference/canvas-controller/ICanvasControllerTransitioningAnimatorVendor/">ICanvasControllerTransitioningAnimatorVendor</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Storyboards</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../scripting-reference/storyboards/Storyboard/">Storyboard</a>
</li>
            
<li >
    <a href="../../../scripting-reference/storyboards/StoryboardData/">StoryboardData</a>
</li>
            
<li >
    <a href="../../../scripting-reference/storyboards/hooks/StoryboardHook/">StoryboardHook</a>
</li>
            
<li >
    <a href="../../../scripting-reference/storyboards/StoryboardTransition/">StoryboardTransition</a>
</li>
            
<li >
    <a href="../../../scripting-reference/storyboards/StoryboardTransitionDirection/">StoryboardTransitionDirection</a>
</li>
            
<li >
    <a href="../../../scripting-reference/storyboards/StoryboardTransitionEvent/">StoryboardTransitionEvent</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Extensions And Convenience</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../scripting-reference/routine/Routine/">Routine</a>
</li>
            
<li >
    <a href="../../../scripting-reference/extensions/DynamicObjectExtensions/">DynamicObjectExtensions</a>
</li>
            
<li >
    <a href="../../../scripting-reference/extensions/RectTransformExtensions/">RectTransformExtensions</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../canvas-controller-scenes/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../canvas-controller-life-cycle/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#presentation-dismissal">Presentation &amp; Dismissal</a></li>
            <li><a href="#presenting-from-a-canvas-controller">Presenting From A Canvas Controller</a></li>
            <li><a href="#presenting-from-a-scene">Presenting From A Scene</a></li>
            <li><a href="#configuring-a-to-be-presented-canvas-controller">Configuring A (To-Be) Presented Canvas Controller</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="presentation-dismissal">Presentation &amp; Dismissal</h1>
<p>Canvas controllers can present and dismiss other canvas controllers,  allowing you to easily build a user interface flow, presenting and dismissing screens as required.</p>
<p>A canvas controller automatically manages the presentation hierarchy, as well as loading and unloading itself as it is presented or dismissed. This allows you to build large, complex, or dynamic user interface flows, loading only the necessary screens on demand.</p>
<blockquote>
<p>Note: Use storyboards to present and dismiss canvas controllers without scripting by visually creating your user interface's flow. Please see the Storyboards section of the manual for information about using Storyboards.</p>
</blockquote>
<h2 id="presenting-from-a-canvas-controller">Presenting From A Canvas Controller</h2>
<p>Canvas controllers are presented and dismissed using the <code>PresentCanvasController&lt;T&gt;()</code> and <code>DismissCanvasController()</code> methods.</p>
<p>For example, suppose we have two canvas controllers - <code>MenuCanvasController</code> and <code>SettingsCanvasController</code>. In our menu canvas controller is a UI Button that should show the settings screen when pressed.</p>
<p>In the <em>MenuCanvasController.cs</em> script, we could add the following <em>OnClick</em> handler:</p>
<pre><code class="c#">public void OnSettingsButtonPressed()
{
    PresentCanvasController&lt;SettingsCanvasController&gt;();
}
</code></pre>

<p>And that's it. When this button is pressed, the menu will present the settings screen, dynamically loading the settings canvas controller and animating it on screen.</p>
<p>We could do a similar thing in our settings canvas controller, except this time the button being pressed is a back button and we want to return to the previous screen when it is pressed.</p>
<pre><code class="c#">public void OnBackButtonPressed()
{
    DismissCanvasController();
}
</code></pre>

<p>This will cause the settings screen to be animated off-screen and subsequently unloaded, returning to the menu.</p>
<hr />
<h2 id="presenting-from-a-scene">Presenting From A Scene</h2>
<p>In a game environment, there is usually an existing scene - say the game's level or other 3D content scene - over which a user interface is presented. Once the initial canvas controller has been presented, the <code>PresentCanvasController&lt;T&gt;()</code> and <code>DismissCanvasController()</code> methods described above can be used. In order to present the initial canvas controller however, the static method <code>CanvasController.PresentInitialCanvasController&lt;T&gt;()</code> is used.</p>
<p>So, for example, say we have an existing game scene called <code>Level1</code>, which contains our game's content, and a canvas controller called <code>GameOverlayCanvasController</code>. When the game scene <code>Level1</code> is run, we wish to present the game overlay screen over the game's content.</p>
<p>To do this, we could create a new script in the <code>Level1</code> game scene and present the initial <code>GameOverlayCanvasController</code> in the <code>MonoBehaviour</code>'s <code>Awake()</code> method, like so:</p>
<pre><code class="c#">private void Awake()
{
    CanvasController.PresentInitialCanvasController&lt;GameOverlayCanvasController&gt;(animated: false)
}
</code></pre>

<blockquote>
<p>Note how we can specify this presentation to not be animated by using the <code>animated</code> parameter.</p>
</blockquote>
<p>The game overlay screen could then use the <code>PresentCanvasController&lt;T&gt;()</code> and <code>DismissCanvasController()</code> methods described above, perhaps presenting pause or game-over screens, as required.</p>
<blockquote>
<p>Note: A single <a href="https://docs.unity3d.com/Manual/EventSystem.html">Unity EventSystem</a> is required to be present for canvases to receive input events. Therefore, depending on your game's structure, you may wish to place an Event System (<em>Game Object/UI/Event System</em>) in the scene presenting your initial canvas controller.</p>
</blockquote>
<hr />
<h2 id="configuring-a-to-be-presented-canvas-controller">Configuring A (To-Be) Presented Canvas Controller</h2>
<p>All <code>Present…()</code> methods include a configuration action parameter to allow configuring the loaded canvas controller before it is presented. The configuration action is invoked by Canvas Flow after the canvas controller has been loaded, but before it has begun presenting. The configuration action is specified like so:</p>
<pre><code class="c#">PresentCanvasController&lt;GameOverlayCanvasController&gt;(configuration: (gameOverlayCanvasController) =&gt;
{
    // Configure the newly-loaded gameOverlayCanvasController.
});
</code></pre>

<p>A common use-case for the configuration action is to pass data to the to-be-presented canvas controller. To illustrate, take the earlier example of presenting a game overlay screen in the game's <code>Level1</code> scene. Say we now have <code>Level2</code> and <code>Level3</code> scenes as well, which also display the same game overlay screen as before. However, we want to display the current level number in the top corner of the screen for the player. After adding a label to display the current level, we could also add a <code>ConfigureWithLevel()</code> method to our <code>gameOverlayCanvasController</code>, which sets the level label's text. </p>
<pre><code class="c#">// In GameOverlayCanvasController.cs
public void ConfigureWithLevel(int levelNumber)
{
    currentLevelLabel.text = string.Format(&quot;Level {0}&quot;, levelNumber);
}
</code></pre>

<p>Then when presenting the game overlay screen from the <code>Awake()</code> method as before, we can use the configuration action to configure it with the level number, which is set in the scene.</p>
<pre><code class="c#">public int levelNumber;

private void Awake()
{
    CanvasController.PresentInitialCanvasController&lt;GameOverlayCanvasController&gt;(
        configuration: (gameOverlayCanvasController) =&gt;
    {
        gameOverlayCanvasController.ConfigureWithLevel(levelNumber);
    } animated: false);
}
</code></pre>

<p>Now, no matter how many levels we create, the game overlay screen will simply display the level number it is configured with.</p>
<blockquote>
<p>Note: Canvas controllers also have a similar <a href="" title="../../scripting-reference/Canvas Controllers/Canvas Controller#PresentCanvasControllerT">completion:</a> action parameter, which is invoked <strong>after</strong> the presentation transition has completed. </p>
</blockquote>
<hr />
<p>For information on customizing the transition animation between canvas controllers, please see the Custom Transition Animators section.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>© 2018 <a href="https://www.pelican7.com/" target="_blank">Pelican 7 LTD</a>. All rights reserved.</p>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../../..';</script>
        <script src="../../../js/base.js"></script>
        <script src="../../../search/require.js"></script>
        <script src="../../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
